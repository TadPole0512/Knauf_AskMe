@echo off
REM ============================================================
REM Memory Optimizer - Emergency Restore Script
REM Version: 2.0
REM Description: ìµœì í™”ë¡œ ì¸í•œ ë¬¸ì œ ë°œìƒ ì‹œ ì‹œìŠ¤í…œ ë³µì›
REM ============================================================

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘         Memory Optimizer ê¸´ê¸‰ ë³µêµ¬ ìŠ¤í¬ë¦½íŠ¸              â•‘
echo â•‘                  Version 2.0                             â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

REM ê´€ë¦¬ìž ê¶Œí•œ í™•ì¸
net session >nul 2>&1
if %errorLevel% neq 0 (
    echo [ì˜¤ë¥˜] ê´€ë¦¬ìž ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.
    echo ë§ˆìš°ìŠ¤ ìš°í´ë¦­ í›„ "ê´€ë¦¬ìž ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰"ì„ ì„ íƒí•˜ì„¸ìš”.
    pause
    exit /b 1
)

echo [1/6] Windows Update ì„œë¹„ìŠ¤ ë³µì› ì¤‘...
net start wuauserv >nul 2>&1
if %errorLevel% equ 0 (
    echo   âœ“ Windows Update ì„œë¹„ìŠ¤ ì‹œìž‘ ì™„ë£Œ
) else (
    echo   âš  Windows Update ì„œë¹„ìŠ¤ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜ ì‹œìž‘ ì‹¤íŒ¨
)

echo.
echo [2/6] SuperFetch/SysMain ì„œë¹„ìŠ¤ ë³µì› ì¤‘...
net start SysMain >nul 2>&1
if %errorLevel% equ 0 (
    echo   âœ“ SysMain ì„œë¹„ìŠ¤ ì‹œìž‘ ì™„ë£Œ
) else (
    echo   âš  SysMain ì„œë¹„ìŠ¤ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜ ì‹œìž‘ ì‹¤íŒ¨
)

echo.
echo [3/6] Windows Search ì„œë¹„ìŠ¤ ë³µì› ì¤‘...
net start WSearch >nul 2>&1
if %errorLevel% equ 0 (
    echo   âœ“ Windows Search ì„œë¹„ìŠ¤ ì‹œìž‘ ì™„ë£Œ
) else (
    echo   âš  Windows Search ì„œë¹„ìŠ¤ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜ ì‹œìž‘ ì‹¤íŒ¨
)

echo.
echo [4/6] Windows Defender ì„œë¹„ìŠ¤ ë³µì› ì¤‘...
net start WinDefend >nul 2>&1
if %errorLevel% equ 0 (
    echo   âœ“ Windows Defender ì„œë¹„ìŠ¤ ì‹œìž‘ ì™„ë£Œ
) else (
    echo   âš  Windows Defender ì„œë¹„ìŠ¤ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜ ì‹œìž‘ ì‹¤íŒ¨
)

echo.
echo [5/6] ì‹œìž‘ í”„ë¡œê·¸ëž¨ í™•ì¸...
echo   ìž‘ì—… ê´€ë¦¬ìž ^> ì‹œìž‘í”„ë¡œê·¸ëž¨ íƒ­ì—ì„œ ìˆ˜ë™ í™•ì¸ í•„ìš”
echo   í•„ìš”í•œ í”„ë¡œê·¸ëž¨ì„ "ì‚¬ìš©"ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”.

echo.
echo [6/6] ì‹œìŠ¤í…œ íŒŒì¼ ë¬´ê²°ì„± ê²€ì‚¬...
echo   (ì´ ìž‘ì—…ì€ 5~10ë¶„ ì†Œìš”ë  ìˆ˜ ìžˆìŠµë‹ˆë‹¤)
echo.
sfc /scannow
if %errorLevel% equ 0 (
    echo   âœ“ ì‹œìŠ¤í…œ íŒŒì¼ ë¬´ê²°ì„± ê²€ì‚¬ ì™„ë£Œ
) else (
    echo   âš  ì‹œìŠ¤í…œ íŒŒì¼ ê²€ì‚¬ ì¤‘ ë¬¸ì œ ë°œìƒ
)

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘                    ë³µêµ¬ ì™„ë£Œ!                            â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ðŸ“‹ ì¶”ê°€ ë³µêµ¬ ìž‘ì—…ì´ í•„ìš”í•œ ê²½ìš°:
echo.
echo 1. ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë°±ì—… ë³µì›:
echo    - regedit ì‹¤í–‰ ^> íŒŒì¼ ^> ê°€ì ¸ì˜¤ê¸°
echo    - C:\ProgramData\CLAUDE\MemoryOptimizer\backup\registry_backup.reg
echo.
echo 2. ì‹œìž‘ í”„ë¡œê·¸ëž¨ ë³µì›:
echo    - ìž‘ì—… ê´€ë¦¬ìž (Ctrl+Shift+Esc)
echo    - ì‹œìž‘í”„ë¡œê·¸ëž¨ íƒ­ì—ì„œ í•„ìš”í•œ í•­ëª© "ì‚¬ìš©" ì„¤ì •
echo.
echo 3. ì‹œìŠ¤í…œ ë³µì› ì§€ì  ì‚¬ìš©:
echo    - ì œì–´íŒ ^> ì‹œìŠ¤í…œ ^> ì‹œìŠ¤í…œ ë³´í˜¸
echo    - ì‹œìŠ¤í…œ ë³µì› ë²„íŠ¼ í´ë¦­
echo.
echo 4. ë¡œê·¸ íŒŒì¼ í™•ì¸:
echo    - C:\ProgramData\CLAUDE\MemoryOptimizer\logs\
echo.
echo ì»´í“¨í„°ë¥¼ ìž¬ì‹œìž‘í•˜ë©´ ë³€ê²½ì‚¬í•­ì´ ì™„ì „ížˆ ì ìš©ë©ë‹ˆë‹¤.
echo.

choice /C YN /M "ì§€ê¸ˆ ìž¬ì‹œìž‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"
if %errorLevel% equ 1 (
    echo ìž¬ì‹œìž‘ ì¤‘...
    shutdown /r /t 10 /c "Memory Optimizer ë³µêµ¬ ì™„ë£Œ - ìž¬ì‹œìž‘"
) else (
    echo ë‚˜ì¤‘ì— ìˆ˜ë™ìœ¼ë¡œ ìž¬ì‹œìž‘í•˜ì„¸ìš”.
)

echo.
echo ë³µêµ¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì™„ë£Œ.
echo ì°½ì„ ë‹«ìœ¼ë ¤ë©´ ì•„ë¬´ í‚¤ë‚˜ ëˆ„ë¥´ì„¸ìš”...
pause >nul
