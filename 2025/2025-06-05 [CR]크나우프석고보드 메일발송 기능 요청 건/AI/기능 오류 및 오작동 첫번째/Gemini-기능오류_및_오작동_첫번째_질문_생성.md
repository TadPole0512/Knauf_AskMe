
**1ë‹¨ê³„: ì»¨í…ìŠ¤íŠ¸ ì œê³µ**
```
"ë‹´ë‹¹ì ì´ë©”ì¼ ê´€ë¦¬ ê¸°ëŠ¥ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë¥¼ ë¶„ì„í•´ì¤˜.Â 
ì´ ê¸°ëŠ¥ì€ [ê¸°ëŠ¥ ì„¤ëª…]ì„ í•˜ëŠ” í™”ë©´ì´ê³ ,Â 
ì‚¬ìš© ê¸°ìˆ ì€ Java, MyBatis, JQGrid, JavaScriptì•¼."
```

**2ë‹¨ê³„: êµ¬ì²´ì  ë¬¸ì œ ìƒí™© ì„¤ëª…**
```
"ë‹¤ìŒ 4ê°€ì§€ ë¬¸ì œê°€ ë°œìƒí•˜ê³  ìˆì–´:

1. ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬ ì‹œ ê²½ê³ ì°½ì´ ë¬´í•œ ë°˜ë³µë¨
Â  Â - ë°œìƒ ì¡°ê±´: ë‹´ë‹¹ì ì´ë©”ì¼ ì„ íƒ â†’ ì˜ëª»ëœ í˜•ì‹ ì…ë ¥ â†’ ì €ì¥ ì‹œë„
Â  Â - í˜„ìƒ: ê²½ê³ ì°½ì„ ë‹«ì•„ë„ ê³„ì† ë‹¤ì‹œ ë‚˜íƒ€ë‚¨

2. ë°ì´í„° ì €ì¥ ë¶ˆì™„ì „ ë¬¸ì œ
Â  Â - ë°œìƒ ì¡°ê±´: ë¹„ê³  ì…ë ¥ + ì €ì¥ ë²„íŠ¼ í´ë¦­
Â  Â - í˜„ìƒ: ë¹„ê³ ì™€ ì´ë©”ì¼ì€ ì €ì¥ ì•ˆë¨, ë°œì†¡ì—¬ë¶€ë§Œ 'Y'ë¡œ ì €ì¥

3. ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë™ê¸°í™” ì˜¤ë¥˜
Â  Â - ë°œìƒ ì¡°ê±´: ë°œì†¡ì—¬ë¶€ ì²´í¬ë°•ìŠ¤ í•˜ë‚˜ë§Œ ì²´í¬ í›„ ì €ì¥
Â  Â - í˜„ìƒ: ëª¨ë“  ë°œì†¡ì—¬ë¶€ í•„ë“œê°€ 'Y'ë¡œ ì €ì¥ë¨

4. í¬ì»¤ìŠ¤ ì´ë™ ì˜¤ë¥˜
Â  Â - ë°œìƒ ì¡°ê±´: ìƒˆ í–‰ì—ì„œ ë¹„ê³ /ì˜ì—…ë‹´ë‹¹ ì´ë©”ì¼ í´ë¦­
Â  Â - í˜„ìƒ: í¬ì»¤ìŠ¤ê°€ ë‹´ë‹¹ì ì´ë©”ì¼ë¡œ ì´ë™í•˜ì—¬ ì˜ëª»ëœ í•„ë“œì— ì…ë ¥ë¨"
```

**3ë‹¨ê³„: ì½”ë“œ ì œê³µ ë° ë¶„ì„ ìš”ì²­**
```
"ì²¨ë¶€í•œ ì†ŒìŠ¤ ì½”ë“œë¥¼ ê²€í† í•´ì„œ:
1. ê° ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì„ ì°¾ì•„ì¤˜
2. ì½”ë“œìƒ ì–´ë–¤ ë¶€ë¶„ì´ ë¬¸ì œì¸ì§€ ì§€ì í•´ì¤˜Â Â 
3. êµ¬ì²´ì ì¸ ìˆ˜ì • ë°©ë²•ì„ ì œì‹œí•´ì¤˜
4. ìˆ˜ì •ëœ ì™„ì „í•œ ì½”ë“œë¥¼ ë³´ì—¬ì¤˜"
```

---------------------------------------------------------------------

[ì²¨ë¶€ : ì†ŒìŠ¤ ì½”ë“œ]
1. **ì†ŒìŠ¤ ì½”ë“œ íŒŒì¼ë“¤**
Â  Â - HTML/JSP íŒŒì¼ (í™”ë©´ êµ¬ì„±)
Â  Â - JavaScript íŒŒì¼ (í´ë¼ì´ì–¸íŠ¸ ë¡œì§)
Â  Â - Java Controller/Service í´ë˜ìŠ¤ (ì„œë²„ ë¡œì§)
Â  Â - MyBatis XML ë§¤í¼ íŒŒì¼ (DB ì¿¼ë¦¬)

---------------------------------------------------------------------

Â  Â - HTML/JSP íŒŒì¼ (í™”ë©´ êµ¬ì„±)

Â  Â  Â  Â  // ==================================================================================
Â  Â  Â  Â  // ì „ì—­ ë³€ìˆ˜ ë° ì›ë³¸ ë°ì´í„° ì €ì¥
Â  Â  Â  Â  // ==================================================================================
Â  Â  Â  Â  var originalDataMap = {}; // ì›ë³¸ ë°ì´í„° ì €ì¥ìš© ë§µ
Â  Â  Â  Â  var modifiedRowsSet = new Set(); // ìˆ˜ì •ëœ í–‰ IDë“¤ì„ ì¶”ì 

Â  Â  Â  Â  // ì´ë©”ì¼ í˜•ì‹ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
Â  Â  Â  Â  function validateEmail(email) {
Â  Â  Â  Â  Â  Â  if (!email || email.trim() === '') return true; // ë¹ˆ ê°’ì€ ìœ íš¨í•œ ê²ƒìœ¼ë¡œ ì²˜ë¦¬
Â  Â  Â  Â  Â  Â  const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
Â  Â  Â  Â  Â  Â  return emailRegex.test(email.trim());
Â  Â  Â  Â  }

Â  Â  Â  Â  // ë°°ê²½ìƒ‰ ë° multiselect ë™ê¸°í™” í•¨ìˆ˜
Â  Â  Â  Â  function syncRowState(rowId, isModified) {
Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  if (isModified) {
Â  Â  Â  Â  Â  Â  Â  Â  $('#gridList #' + rowId).css('background-color', '#ffebcd');
Â  Â  Â  Â  Â  Â  Â  Â  grid.jqGrid('setSelection', rowId, false);
Â  Â  Â  Â  Â  Â  Â  Â  modifiedRowsSet.add(rowId);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  $('#gridList #' + rowId).css('background-color', '');
Â  Â  Â  Â  Â  Â  Â  Â  if (!hasOtherModifications(rowId)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var selectedRows = grid.jqGrid('getGridParam', 'selarrrow');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (selectedRows.indexOf(rowId) !== -1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grid.jqGrid('setSelection', rowId, false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modifiedRowsSet.delete(rowId);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // í–‰ì— ë‹¤ë¥¸ ìˆ˜ì •ì‚¬í•­ì´ ìˆëŠ”ì§€ í™•ì¸ - í¸ì§‘ëª¨ë“œ ëŒ€ì‘ ê°œì„ 
Â  Â  Â  Â  function hasOtherModifications(rowId) {
Â  Â  Â  Â  Â  Â  if (!originalDataMap[rowId]) return false;
Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  var isEditMode = $('#' + rowId).hasClass('jqgrow-edit');
Â  Â  Â  Â  Â  Â  var currentData = {};
Â  Â  Â  Â  Â  Â  if (isEditMode) {
Â  Â  Â  Â  Â  Â  Â  Â  var row = $('#' + rowId);
Â  Â  Â  Â  Â  Â  Â  Â  currentData.CUST_MAIN_EMAIL = row.find('input[name="CUST_MAIN_EMAIL"]').val() || '';
Â  Â  Â  Â  Â  Â  Â  Â  currentData.SALESREP_EMAIL = row.find('input[name="SALESREP_EMAIL"]').val() || '';
Â  Â  Â  Â  Â  Â  Â  Â  currentData.COMMENTS = row.find('input[name="COMMENTS"]').val() || '';
Â  Â  Â  Â  Â  Â  Â  Â  currentData.CUST_SENDMAIL_YN = row.find('.mail-checkbox[data-field="CUST_SENDMAIL_YN"]').is(':checked') ? 'Y' : 'N';
Â  Â  Â  Â  Â  Â  Â  Â  currentData.SALESREP_SENDMAIL_YN = row.find('.mail-checkbox[data-field="SALESREP_SENDMAIL_YN"]').is(':checked') ? 'Y' : 'N';
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  currentData = getCleanRowData(rowId);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  var originalData = originalDataMap[rowId];
Â  Â  Â  Â  Â  Â  var editableFields = ['CUST_MAIN_EMAIL', 'CUST_SENDMAIL_YN', 'SALESREP_EMAIL', 'SALESREP_SENDMAIL_YN', 'COMMENTS'];
Â  Â  Â  Â  Â  Â  for (var i = 0; i < editableFields.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  var field = editableFields[i];
Â  Â  Â  Â  Â  Â  Â  Â  var currentValue = (currentData[field] || '').toString().trim();
Â  Â  Â  Â  Â  Â  Â  Â  var originalValue = (originalData[field] || '').toString().trim();
Â  Â  Â  Â  Â  Â  Â  Â  if (currentValue !== originalValue) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  }

Â  Â  Â  Â  // ì²´í¬ë°•ìŠ¤ í¬ë§·í„°
Â  Â  Â  Â  function checkboxFormatter(cellVal, options, rowObj) {
Â  Â  Â  Â  Â  Â  var checked = (cellVal === 'Y') ? 'checked' : '';
Â  Â  Â  Â  Â  Â  var rowId = options.rowId;
Â  Â  Â  Â  Â  Â  return '<input type="checkbox" class="mail-checkbox" ' + checked +Â 
Â  Â  Â  Â  Â  Â  Â  Â  ' data-rowid="' + rowId + '" data-field="' + options.colModel.name + '"' +
Â  Â  Â  Â  Â  Â  Â  Â  ' onclick="handleCheckboxClick(this)" />';
Â  Â  Â  Â  }

Â  Â  Â  Â  // ì²´í¬ë°•ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ - ì™„ì „ ì¬ì‘ì„±
Â  Â  Â  Â  function handleCheckboxClick(checkbox) {
Â  Â  Â  Â  Â  Â  var rowId = $(checkbox).data('rowid');
Â  Â  Â  Â  Â  Â  var fieldName = $(checkbox).data('field');
Â  Â  Â  Â  Â  Â  var newValue = checkbox.checked ? 'Y' : 'N';
Â  Â  Â  Â  Â  Â  var originalValue = originalDataMap[rowId] ? (originalDataMap[rowId][fieldName] || 'N') : 'N';
Â  Â  Â  Â  Â  Â  $('#gridList').jqGrid('setCell', rowId, fieldName, newValue);
Â  Â  Â  Â  Â  Â  var isModified = (newValue !== originalValue);
Â  Â  Â  Â  Â  Â  var hasModifications = hasOtherModifications(rowId);
Â  Â  Â  Â  Â  Â  syncRowState(rowId, isModified || hasModifications);
Â  Â  Â  Â  }

Â  Â  Â  Â  // ì´ë©”ì¼ í•„ë“œ ê²€ì¦ ë° ìƒíƒœ ë™ê¸°í™” - í¸ì§‘ëª¨ë“œ ê°œì„ 
Â  Â  Â  Â  function handleEmailChange(input) {
Â  Â  Â  Â  Â  Â  var rowId = $(input).closest('tr').attr('id');
Â  Â  Â  Â  Â  Â  var fieldName = $(input).attr('name') || $(input).data('field');
Â  Â  Â  Â  Â  Â  var newValue = $(input).val().trim();

Â  Â  Â  Â  Â  Â  if (newValue && !validateEmail(newValue)) {
Â  Â  Â  Â  Â  Â  Â  Â  alert('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
Â  Â  Â  Â  Â  Â  Â  Â  $(input).focus();
Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  var originalValue = originalDataMap[rowId] ? (originalDataMap[rowId][fieldName] || '') : '';
Â  Â  Â  Â  Â  Â  var isModified = (newValue !== originalValue.trim());
Â  Â  Â  Â  Â  Â  var hasModifications = hasOtherModifications(rowId);
Â  Â  Â  Â  Â  Â  syncRowState(rowId, isModified || hasModifications);
Â  Â  Â  Â  Â  Â  return true;
Â  Â  Â  Â  }

Â  Â  Â  Â  // í…ìŠ¤íŠ¸ í•„ë“œ ë³€ê²½ ì²˜ë¦¬ - í¸ì§‘ëª¨ë“œ ê°œì„ 
Â  Â  Â  Â  function handleTextChange(input) {
Â  Â  Â  Â  Â  Â  var rowId = $(input).closest('tr').attr('id');
Â  Â  Â  Â  Â  Â  var fieldName = $(input).attr('name') || $(input).data('field');
Â  Â  Â  Â  Â  Â  var newValue = $(input).val().trim();
Â  Â  Â  Â  Â  Â  var originalValue = originalDataMap[rowId] ? (originalDataMap[rowId][fieldName] || '') : '';
Â  Â  Â  Â  Â  Â  var isModified = (newValue !== originalValue.trim());
Â  Â  Â  Â  Â  Â  var hasModifications = hasOtherModifications(rowId);
Â  Â  Â  Â  Â  Â  syncRowState(rowId, isModified || hasModifications);
Â  Â  Â  Â  }

Â  Â  Â  Â  // multiselect ì²´í¬ë°•ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
Â  Â  Â  Â  function handleMultiselectChange() {
Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  var selectedRows = grid.jqGrid('getGridParam', 'selarrrow');
Â  Â  Â  Â  Â  Â  var allRowIds = grid.jqGrid('getDataIDs');
Â  Â  Â  Â  Â  Â  $.each(allRowIds, function(index, rowId) {
Â  Â  Â  Â  Â  Â  Â  Â  var isSelected = selectedRows.indexOf(rowId) !== -1;
Â  Â  Â  Â  Â  Â  Â  Â  var hasModifications = hasOtherModifications(rowId);
Â  Â  Â  Â  Â  Â  Â  Â  if (isSelected && !hasModifications) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grid.jqGrid('setSelection', rowId, false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 10);
Â  Â  Â  Â  Â  Â  Â  Â  } else if (!isSelected && hasModifications) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grid.jqGrid('setSelection', rowId, false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modifiedRowsSet.add(rowId);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  $(function(){
Â  Â  Â  Â  Â  Â  getGridList();
Â  Â  Â  Â  });

Â  Â  Â  Â  // ìˆ˜ì •ëœ í–‰ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° - í¸ì§‘ëª¨ë“œ ëŒ€ì‘ ì™„ì „ ì¬ì‘ì„±
Â  Â  Â  Â  function getModifiedRows() {
Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  var selectedRows = grid.jqGrid('getGridParam', 'selarrrow');
Â  Â  Â  Â  Â  Â  var modifiedRows = [];
Â  Â  Â  Â  Â  Â  $.each(selectedRows, function(index, rowId) {
Â  Â  Â  Â  Â  Â  Â  Â  if (hasOtherModifications(rowId)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var isEditMode = $('#' + rowId).hasClass('jqgrow-edit');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isEditMode) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grid.jqGrid('saveRow', rowId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var rowData = getCleanRowData(rowId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (rowData) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modifiedRows.push(rowData);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  return modifiedRows;
Â  Â  Â  Â  }

Â  Â  Â  Â  // í¸ì§‘ëª¨ë“œë¥¼ ê³ ë ¤í•œ ê¹¨ë—í•œ í–‰ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
Â  Â  Â  Â  function getCleanRowData(rowId) {
Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  var rowData = grid.jqGrid('getRowData', rowId);
Â  Â  Â  Â  Â  Â  var cleanData = {};
Â  Â  Â  Â  Â  Â  $.each(rowData, function(key, value) {
Â  Â  Â  Â  Â  Â  Â  Â  if (typeof value === 'string') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (value.indexOf('<input') !== -1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var $temp = $('<div>').html(value);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var inputValue = $temp.find('input').val();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cleanData[key] = inputValue || '';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (value.indexOf('<') !== -1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var $temp = $('<div>').html(value);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cleanData[key] = $temp.text().trim();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cleanData[key] = value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cleanData[key] = value;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  return cleanData;
Â  Â  Â  Â  }

Â  Â  Â  Â  var lastSelection;
Â  Â  Â  Â  function editRow(id){
Â  Â  Â  Â  Â  Â  if (id && id !== lastSelection) {
Â  Â  Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  Â  Â  grid.jqGrid('editRow', id, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  keys: true,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  focusField: true,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  oneditfunc: function(rowId) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var row = $('#' + rowId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.find('input[name="CUST_MAIN_EMAIL"]').on('blur', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $(this).data('field', 'CUST_MAIN_EMAIL');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handleEmailChange(this);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.find('input[name="SALESREP_EMAIL"]').on('blur', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $(this).data('field', 'SALESREP_EMAIL');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handleEmailChange(this);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.find('input[name="COMMENTS"]').on('blur', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $(this).data('field', 'COMMENTS');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  handleTextChange(this);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  lastSelection = id;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function dataSave(obj) {
Â  Â  Â  Â  Â  Â  $(obj).prop('disabled', true);
Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  var allRowIds = grid.jqGrid('getDataIDs');
Â  Â  Â  Â  Â  Â  $.each(allRowIds, function(index, rowId) {
Â  Â  Â  Â  Â  Â  Â  Â  var isEditMode = $('#' + rowId).hasClass('jqgrow-edit');
Â  Â  Â  Â  Â  Â  Â  Â  if (isEditMode) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  grid.jqGrid('saveRow', rowId);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  var modifiedRows = getModifiedRows();
Â  Â  Â  Â  Â  Â  if (modifiedRows.length === 0) {
Â  Â  Â  Â  Â  Â  Â  Â  alert('ìˆ˜ì •ëœ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.');
Â  Â  Â  Â  Â  Â  Â  Â  $(obj).prop('disabled', false);
Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  var validationFailed = false;
Â  Â  Â  Â  Â  Â  $.each(modifiedRows, function(i, rowData) {
Â  Â  Â  Â  Â  Â  Â  Â  if (rowData.CUST_MAIN_EMAIL && !validateEmail(rowData.CUST_MAIN_EMAIL)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('ê±°ë˜ì²˜ ë‹´ë‹¹ì ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  validationFailed = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  if (rowData.SALESREP_EMAIL && !validateEmail(rowData.SALESREP_EMAIL)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  validationFailed = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  if (rowData.CUST_SENDMAIL_YN === 'Y' && !rowData.CUST_MAIN_EMAIL) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('ë‹´ë‹¹ì ì´ë©”ì¼ ë°œì†¡ì´ ì²´í¬ë˜ì–´ ìˆì§€ë§Œ ë‹´ë‹¹ì ì´ë©”ì¼ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  validationFailed = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  if (rowData.SALESREP_SENDMAIL_YN === 'Y' && !rowData.SALESREP_EMAIL) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ ë°œì†¡ì´ ì²´í¬ë˜ì–´ ìˆì§€ë§Œ ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  validationFailed = true;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  if (validationFailed) {
Â  Â  Â  Â  Â  Â  Â  Â  $(obj).prop('disabled', false);
Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  var iFormObj = $('form[name="iForm"]');
Â  Â  Â  Â  Â  Â  iFormObj.empty();
Â  Â  Â  Â  Â  Â  $.each(modifiedRows, function(i, rowData) {
Â  Â  Â  Â  Â  Â  Â  Â  iFormObj.append('<input type="hidden" name="custCd" value="' + rowData.CUST_CD + '" />');
Â  Â  Â  Â  Â  Â  Â  Â  iFormObj.append('<input type="hidden" name="custMainEmail" value="' + (rowData.CUST_MAIN_EMAIL || '') + '" />');
Â  Â  Â  Â  Â  Â  Â  Â  iFormObj.append('<input type="hidden" name="custSendmailYn" value="' + (rowData.CUST_SENDMAIL_YN || 'N') + '" />');
Â  Â  Â  Â  Â  Â  Â  Â  iFormObj.append('<input type="hidden" name="salesrepEmail" value="' + (rowData.SALESREP_EMAIL || '') + '" />');
Â  Â  Â  Â  Â  Â  Â  Â  iFormObj.append('<input type="hidden" name="salesrepSendmailYn" value="' + (rowData.SALESREP_SENDMAIL_YN || 'N') + '" />');
Â  Â  Â  Â  Â  Â  Â  Â  iFormObj.append('<input type="hidden" name="comments" value="' + (rowData.COMMENTS || '') + '" />');
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  if (confirm('ì €ì¥ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
Â  Â  Â  Â  Â  Â  Â  Â  var iFormData = iFormObj.serialize();
Â  Â  Â  Â  Â  Â  Â  Â  var url = '${url}/admin/system/updateOrderMailAlarmAjax.lime';Â 
Â  Â  Â  Â  Â  Â  Â  Â  $.ajax({
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  async : false,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  data : iFormData,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  type : 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  url : url,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  success : function(data) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (data.RES_CODE == '0000') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(data.RES_MSG);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  resetAllStates();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  dataSearch();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert(data.RES_MSG);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $(obj).prop('disabled', false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  error : function(request,status,error){
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Error');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $(obj).prop('disabled', false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  $(obj).prop('disabled', false);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  // ëª¨ë“  ìƒíƒœ ì´ˆê¸°í™”
Â  Â  Â  Â  function resetAllStates() {
Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  var allRowIds = grid.jqGrid('getDataIDs');
Â  Â  Â  Â  Â  Â  $.each(allRowIds, function(index, rowId) {
Â  Â  Â  Â  Â  Â  Â  Â  $('#gridList #' + rowId).css('background-color', '');
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  grid.jqGrid('resetSelection');
Â  Â  Â  Â  Â  Â  modifiedRowsSet.clear();
Â  Â  Â  Â  }

Â  Â  Â  Â  // ==================================================================================
Â  Â  Â  Â  // jqGrid Columns Order ì„¤ì •
Â  Â  Â  Â  // ==================================================================================
Â  Â  Â  Â  var ckNameJqGrid = 'admin/customer/customerList/jqGridCookie';
Â  Â  Â  Â  ckNameJqGrid += '/gridList';
Â  Â  Â  Â  var globalColumnOrderStr = toStr(decodeURIComponent(getCookie(ckNameJqGrid)));
Â  Â  Â  Â  var globalColumnOrder = globalColumnOrderStr.split(',');
Â  Â  Â  Â  var defaultColModel = [
Â  Â  Â  Â  Â  Â  {name:"CUST_CD", key:true, label:'ê±°ë˜ì²˜ì½”ë“œ', width:120, align:'center', sortable:true},
Â  Â  Â  Â  Â  Â  {name:"CUST_NM", label:'ê±°ë˜ì²˜ëª…', width:220, align:'left', sortable:true},
Â  Â  Â  Â  Â  Â  {name:"CUST_MAIN_EMAIL", label:'ë‹´ë‹¹ì ì´ë©”ì¼', width:220, align:'center', sortable:true, editable:true},
Â  Â  Â  Â  Â  Â  {name:"CUST_SENDMAIL_YN", label:'ë°œì†¡ ì—¬ë¶€', width:100, align:'center', sortable:true, formatter:checkboxFormatter},
Â  Â  Â  Â  Â  Â  {name:"SALESREP_NM", label:'ì˜ì—… ë‹´ë‹¹', width:100, align:'center', sortable:true},
Â  Â  Â  Â  Â  Â  {name:"SALESREP_EMAIL", label:'ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼', width:300, align:'center', sortable:true, editable:true},
Â  Â  Â  Â  Â  Â  {name:"SALESREP_SENDMAIL_YN", label:'ë°œì†¡ ì—¬ë¶€', width:100, align:'center', sortable:true, formatter:checkboxFormatter},
Â  Â  Â  Â  Â  Â  {name:"COMMENTS", label:'ë¹„ê³ ', width:450, align:'left', sortable:true, editable:true}
Â  Â  Â  Â  ];
Â  Â  Â  Â  var defaultColumnOrder = writeIndexToStr(defaultColModel.length);
Â  Â  Â  Â  var updateComModel = [];
Â  Â  Â  Â  if (0 < globalColumnOrder.length) {
Â  Â  Â  Â  Â  Â  if (defaultColModel.length == globalColumnOrder.length) {
Â  Â  Â  Â  Â  Â  Â  Â  for (var i = 0, j = globalColumnOrder.length; i < j; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateComModel.push(defaultColModel[globalColumnOrder[i]]);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  setCookie(ckNameJqGrid, globalColumnOrder, 365);
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  updateComModel = defaultColModel;
Â  Â  Â  Â  Â  Â  Â  Â  setCookie(ckNameJqGrid, defaultColumnOrder, 365);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  updateComModel = defaultColModel;
Â  Â  Â  Â  Â  Â  setCookie(ckNameJqGrid, defaultColumnOrder, 365);
Â  Â  Â  Â  }

Â  Â  Â  Â  // ==================================================================================
Â  Â  Â  Â  // jqGrid Column Width ì„¤ì •
Â  Â  Â  Â  // ==================================================================================
Â  Â  Â  Â  var ckNameJqGridWidth = ckNameJqGrid + '/width';
Â  Â  Â  Â  var globalColumnWidthStr = toStr(decodeURIComponent(getCookie(ckNameJqGridWidth)));
Â  Â  Â  Â  var globalColumnWidth = globalColumnWidthStr.split(',');
Â  Â  Â  Â  var defaultColumnWidthStr = '';
Â  Â  Â  Â  var defaultColumnWidth;
Â  Â  Â  Â  var updateColumnWidth;
Â  Â  Â  Â  if ('' != globalColumnWidthStr) {
Â  Â  Â  Â  Â  Â  if (updateComModel.length == globalColumnWidth.length) {
Â  Â  Â  Â  Â  Â  Â  Â  updateColumnWidth = globalColumnWidth;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  for (var j = 0; j < updateComModel.length; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ('rn' != updateComModel[j].name && 'cb' != updateComModel[j].name) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var v = ('' != toStr(updateComModel[j].width)) ? toStr(updateComModel[j].width) : '0';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ('' == defaultColumnWidthStr) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  defaultColumnWidthStr = v;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  defaultColumnWidthStr += ',' + v;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  defaultColumnWidth = defaultColumnWidthStr.split(',');
Â  Â  Â  Â  Â  Â  Â  Â  updateColumnWidth = defaultColumnWidth;
Â  Â  Â  Â  Â  Â  Â  Â  setCookie(ckNameJqGridWidth, defaultColumnWidth, 365);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  for (var j = 0; j < updateComModel.length; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  if ('rn' != updateComModel[j].name && 'cb' != updateComModel[j].name) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var v = ('' != toStr(updateComModel[j].width)) ? toStr(updateComModel[j].width) : '0';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ('' == defaultColumnWidthStr) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  defaultColumnWidthStr = v;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  defaultColumnWidthStr += ',' + v;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  defaultColumnWidth = defaultColumnWidthStr.split(',');
Â  Â  Â  Â  Â  Â  updateColumnWidth = defaultColumnWidth;
Â  Â  Â  Â  Â  Â  setCookie(ckNameJqGridWidth, defaultColumnWidth, 365);
Â  Â  Â  Â  }
Â  Â  Â  Â  if (updateComModel.length == globalColumnWidth.length) {
Â  Â  Â  Â  Â  Â  for (var j = 0; j < updateComModel.length; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  updateComModel[j].width = toStr(updateColumnWidth[j]);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

Â  Â  Â  Â  function getGridList(){
Â  Â  Â  Â  Â  Â  var searchData = getSearchData();
Â  Â  Â  Â  Â  Â  $('#gridList').jqGrid({
Â  Â  Â  Â  Â  Â  Â  Â  url: "${url}/admin/customer/getOrderEmailAlarmAjax.lime",
Â  Â  Â  Â  Â  Â  Â  Â  editurl: 'clientArray',
Â  Â  Â  Â  Â  Â  Â  Â  datatype: "json",
Â  Â  Â  Â  Â  Â  Â  Â  mtype: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  postData: searchData,
Â  Â  Â  Â  Â  Â  Â  Â  colModel: updateComModel,
Â  Â  Â  Â  Â  Â  Â  Â  height: '360px',
Â  Â  Â  Â  Â  Â  Â  Â  autowidth: false,
Â  Â  Â  Â  Â  Â  Â  Â  multiselect: true,
Â  Â  Â  Â  Â  Â  Â  Â  rowNum: 10,
Â  Â  Â  Â  Â  Â  Â  Â  rowList: ['10', '30', '50', '100'],
Â  Â  Â  Â  Â  Â  Â  Â  rownumbers: true,
Â  Â  Â  Â  Â  Â  Â  Â  pagination: true,
Â  Â  Â  Â  Â  Â  Â  Â  pager: "#pager",
Â  Â  Â  Â  Â  Â  Â  Â  actions : true,
Â  Â  Â  Â  Â  Â  Â  Â  pginput : true,
Â  Â  Â  Â  Â  Â  Â  Â  jsonReader: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  root: 'list',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: 'CUST_CD'
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  loadComplete: function(data) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  originalDataMap = {};
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modifiedRowsSet.clear();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (data && data.list) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $.each(data.list, function(index, item) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  originalDataMap[item.CUST_CD] = $.extend(true, {}, item);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $('#cb_gridList').off('click').on('click', function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(handleMultiselectChange, 50);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  sortable: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  update: function(relativeColumnOrder) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var defaultColIndicies = [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (var i = 0; i < defaultColModel.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  defaultColIndicies.push(defaultColModel[i].name);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  globalColumnOrder = [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var columnOrder = [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var currentColModel = grid.getGridParam('colModel');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (var j = 0; j < relativeColumnOrder.length; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ('rn' != currentColModel[j].name && 'cb' != currentColModel[j].name) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  columnOrder.push(defaultColIndicies.indexOf(currentColModel[j].name));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  globalColumnOrder = columnOrder;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setCookie(ckNameJqGrid, globalColumnOrder, 365);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var tempUpdateColumnWidth = [];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  for (var j = 0; j < currentColModel.length; j++) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ('rn' != currentColModel[j].name && 'cb' != currentColModel[j].name) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  tempUpdateColumnWidth.push(currentColModel[j].width);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateColumnWidth = tempUpdateColumnWidth;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setCookie(ckNameJqGridWidth, updateColumnWidth, 365);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  resizeStop: function(width, index) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var minusIdx = 0;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var grid = $('#gridList');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var currentColModel = grid.getGridParam('colModel');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ('rn' == currentColModel.name || 'cb' == currentColModel.name) minusIdx--;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ('rn' == currentColModel.name || 'cb' == currentColModel.name) minusIdx--;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var resizeIdx = index + minusIdx;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateColumnWidth[resizeIdx] = width;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setCookie(ckNameJqGridWidth, updateColumnWidth, 365);
Â  Â  Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  Â  Â  sortorder: 'desc',
Â  Â  Â  Â  Â  Â  Â  Â  onSelectRow: function(rowId, status, e){
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (e && $(e.target).is('input[type="checkbox"]') && $(e.target).closest('td').hasClass('cbox')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(function() {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  var hasModifications = hasOtherModifications(rowId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!hasModifications) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $('#gridList').jqGrid('setSelection', rowId, false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 10);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  editRow(rowId);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  }

Â  Â  Â  Â  function getSearchData(){
Â  Â  Â  Â  Â  Â  var rl_custcd = $('input[name="searchCustCd"]').val();
Â  Â  Â  Â  Â  Â  var rl_custnm = $('input[name="searchCustNm"]').val();
Â  Â  Â  Â  Â  Â  var rl_salesrepnm = $('input[name="searchSalesrepNm"]').val();
Â  Â  Â  Â  Â  Â  var searchData = {
Â  Â  Â  Â  Â  Â  Â  Â  rl_custcd : rl_custcd,
Â  Â  Â  Â  Â  Â  Â  Â  rl_custnm : rl_custnm,
Â  Â  Â  Â  Â  Â  Â  Â  rl_salesrepnm : rl_salesrepnm
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  return searchData;
Â  Â  Â  Â  }

Â  Â  Â  Â  // ì¡°íšŒ
Â  Â  Â  Â  function dataSearch() {
Â  Â  Â  Â  Â  Â  var searchData = getSearchData();
Â  Â  Â  Â  Â  Â  $('#gridList').setGridParam({
Â  Â  Â  Â  Â  Â  Â  Â  postData : searchData
Â  Â  Â  Â  Â  Â  }).trigger("reloadGrid");
Â  Â  Â  Â  }



Â  Â  Â  Â  <form name="iForm" method="post"></form>
Â  Â  Â  Â  <form name="frm" method="post">


Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="panel-body">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h5 class="table-title listT">TOTAL <span id="listTotalCountSpanId">0</span>EA</h5>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="btnList writeObjectClass">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button type="button" class="btn btn-info" onclick="dataSave(this);">ì €ì¥</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="table-responsive in">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <table id="gridList" class="display table tableList nowrap" width="100%" border="0" cellpadding="0" cellspacing="0"></table>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div id="pager"></div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>


Â  Â - Java Controller/Service í´ë˜ìŠ¤ (ì„œë²„ ë¡œì§)

ì»¨íŠ¸ë¡¤

	@ResponseBody
	@PostMapping(value="insertUpdateOrderEmailAlarmAjax")
	public Object insertUpdateOrderEmailAlarmAjax(@RequestParam Map<String, Object> params, HttpServletRequest req, HttpServletResponse res, Model model, LoginDto loginDto) throws Exception {
		return customerSvc.insertUpdateOrderEmailAlarm(params, req, loginDto);
	}


ì„œë¹„ìŠ¤

Â  Â  public Map<String, Object> insertUpdateOrderEmailAlarm(Map<String, Object> params, HttpServletRequest req, LoginDto loginDto) throws Exception {
Â  Â  Â  Â  // ë°°ì—´ë¡œ ë°›ê¸°
Â  Â  Â  Â  String[] custCdArray = req.getParameterValues("custCd");
Â  Â  Â  Â  String[] custMainEmailArray = req.getParameterValues("custMainEmail");
Â  Â  Â  Â  String[] custSendmailYnArray = req.getParameterValues("custSendmailYn");
Â  Â  Â  Â  String[] salesrepEmailArray = req.getParameterValues("salesrepEmail");
Â  Â  Â  Â  String[] salesrepSendmailYnArray = req.getParameterValues("salesrepSendmailYn");
Â  Â  Â  Â  String[] commentsArray = req.getParameterValues("comments");
Â  Â  Â  Â Â 
Â  Â  Â  Â  if (custCdArray == null) {
Â  Â  Â  Â  Â  Â  return MsgCode.getResultMap(MsgCode.ERROR, "ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  int totalCount = custCdArray.length;
Â  Â  Â  Â  for (int i = 0; i < totalCount; i++) {
Â  Â  Â  Â  Â  Â  String custCd = custCdArray[i];
Â  Â  Â  Â  Â  Â  String custMainEmail = (custMainEmailArray != null && i < custMainEmailArray.length) ? custMainEmailArray[i] : "";
Â  Â  Â  Â  Â  Â  String custSendmailYn = (custSendmailYnArray != null && i < custSendmailYnArray.length) ? custSendmailYnArray[i] : "N";
Â  Â  Â  Â  Â  Â  String salesrepEmail = (salesrepEmailArray != null && i < salesrepEmailArray.length) ? salesrepEmailArray[i] : "";
Â  Â  Â  Â  Â  Â  String salesrepSendmailYn = (salesrepSendmailYnArray != null && i < salesrepSendmailYnArray.length) ? salesrepSendmailYnArray[i] : "N";
Â  Â  Â  Â  Â  Â  String comments = (commentsArray != null && i < commentsArray.length) ? commentsArray[i] : "";
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // ë‚˜ë¨¸ì§€ ë¡œì§ì€ ë™ì¼
Â  Â  Â  Â  Â  Â  String inid = loginDto.getUserId();
Â  Â  Â  Â  Â  Â  String moid = loginDto.getUserId();
Â  Â  Â  Â  Â  Â  Map<String, Object> svcMap = new HashMap<>();
Â  Â  Â  Â  Â  Â  svcMap.put("m_custCd", custCd);
Â  Â  Â  Â  Â  Â  svcMap.put("m_custMainEmail", custMainEmail);
Â  Â  Â  Â  Â  Â  svcMap.put("m_custSendmailYn", custSendmailYn);
Â  Â  Â  Â  Â  Â  svcMap.put("m_salesrepEmail", salesrepEmail);
Â  Â  Â  Â  Â  Â  svcMap.put("m_salesrepSendmailYn", salesrepSendmailYn);
Â  Â  Â  Â  Â  Â  svcMap.put("m_comments", comments);
Â  Â  Â  Â  Â  Â  svcMap.put("m_inid", inid);
Â  Â  Â  Â  Â  Â  svcMap.put("m_moid", moid);
Â  Â  Â  Â  Â  Â  customerDao.insertUpdateOrderEmailAlarm(svcMap);
Â  Â  Â  Â  }
Â  Â  Â  Â  return MsgCode.getResultMap(MsgCode.SUCCESS);
Â  Â  }


DAO

	public List<Map<String, Object>> insertUpdateOrderEmailAlarm(Map<String, Object> svcMap) {
		return sqlSession.selectList("eorder.o_customer.insertUpdateOrderEmailAlarm", svcMap);
	}


Â  Â - MyBatis XML ë§¤í¼ íŒŒì¼ (DB ì¿¼ë¦¬)

Â  Â  <update id="insertUpdateOrderEmailAlarm" parameterType="map">
Â  Â  Â  Â  <![CDATA[
Â  Â  Â  Â  MERGE dbo.O_CUSTOMER_MAILINFO AS T
Â  Â  Â  Â  USING (
Â  Â  Â  Â  Â  Â  Â  Â  Â SELECT
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  #{m_custCd}Â  Â  Â  Â  Â  Â  Â  Â AS CUST_CD
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , #{m_custMainEmail}Â  Â  Â  Â  AS CUST_MAIN_EMAIL
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , #{m_custSendmailYn}Â  Â  Â  Â AS CUST_SENDMAIL_YN
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , #{m_salesrepEmail}Â  Â  Â  Â  AS SALESREP_EMAIL
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , #{m_salesrepSendmailYn}Â  Â AS SALESREP_SENDMAIL_YN
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , #{m_comments}Â  Â  Â  Â  Â  Â  Â AS COMMENTS
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , #{m_inid}Â  Â  Â  Â  Â  Â  Â  Â  Â AS INID
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , GETDATE()Â  Â  Â  Â  Â  Â  Â  Â  Â AS INDATE
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , #{m_moid}Â  Â  Â  Â  Â  Â  Â  Â  Â AS MOID
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , GETDATE()Â  Â  Â  Â  Â  Â  Â  Â  Â AS MODATE
Â  Â  Â  Â  Â  Â  Â  ) AS S
Â  Â  Â  Â  Â  Â ON T.CUST_CD = S.CUST_CD

Â  Â  Â  Â  Â WHEN MATCHED THEN
Â  Â  Â  Â  Â  Â  Â  UPDATE SET
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â T.CUST_MAIN_EMAILÂ  Â  Â  Â = S.CUST_MAIN_EMAIL
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â , T.CUST_SENDMAIL_YNÂ  Â  Â  = S.CUST_SENDMAIL_YN
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â , T.SALESREP_EMAILÂ  Â  Â  Â  = S.SALESREP_EMAIL
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â , T.SALESREP_SENDMAIL_YNÂ  = S.SALESREP_SENDMAIL_YN
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â , T.COMMENTSÂ  Â  Â  Â  Â  Â  Â  = S.COMMENTS
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â , T.MOIDÂ  Â  Â  Â  Â  Â  Â  Â  Â  = S.MOID
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â , T.MODATEÂ  Â  Â  Â  Â  Â  Â  Â  = S.MODATE

Â  Â  Â  Â  Â WHEN NOT MATCHED THEN
Â  Â  Â  Â  Â  Â  Â  INSERT (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  CUST_CD
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , CUST_MAIN_EMAIL
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , CUST_SENDMAIL_YN
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , SALESREP_EMAIL
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , SALESREP_SENDMAIL_YN
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , COMMENTS
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , INID
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , INDATE
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â )
Â  Â  Â  Â  Â  Â  Â  VALUES (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  S.CUST_CD
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , S.CUST_MAIN_EMAIL
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , S.CUST_SENDMAIL_YN
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , S.SALESREP_EMAIL
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , S.SALESREP_SENDMAIL_YN
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , S.COMMENTS
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , S.INID
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  , S.INDATE
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â );
Â  Â  Â  Â  ]]>
Â  Â  </update>


---------------------------------------------------------------------

2. **ë°ì´í„°ë² ì´ìŠ¤ ì •ë³´**
Â  Â - ê´€ë ¨ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ (CREATE TABLE ë¬¸)
Â  Â - í˜„ì¬ ë°ì´í„° ìƒ˜í”Œ (SELECT ê²°ê³¼)

---------------------------------------------------------------------

CREATE TABLE O_CUSTOMER_MAILINFO (
	CUST_CDÂ  Â  VARCHAR(10),
	CUST_MAIN_EMAILÂ  Â  VARCHAR(100),
	CUST_SENDMAIL_YNÂ  Â  VARCHAR(1),
	SALESREP_EMAILÂ  Â  VARCHAR(100),
	SALESREP_SENDMAIL_YN VARCHAR(1),
	COMMENTS	VARCHAR(2000),
	INIDÂ  Â  VARCHAR(10),
	INDATEÂ  Â  DATETIME2,
	MOIDÂ  Â  VARCHAR(10),
	MODATEÂ  Â  DATETIME2,
	CONSTRAINT O_CUSTOMER_MAILINFO_PR PRIMARY KEY(CUST_CD)
)
;


---------------------------------------------------------------------
/* ******************************************************************************************************************************* */
/* ******************************************************************************************************************************* */
/* ******************************************************************************************************************************* */
/* ******************************************************************************************************************************* */
/* ******************************************************************************************************************************* */
---------------------------------------------------------------------

ì•ˆë…•í•˜ì„¸ìš”, IT ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤. ì£¼ì‹  ì½”ë“œë¥¼ ê¼¼ê¼¼íˆ ê²€í† í•´ ë³´ë‹ˆ, ë§ì”€í•˜ì‹  4ê°€ì§€ ë¬¸ì œì— ëŒ€í•œ ì›ì¸ê³¼ í•´ê²° ë°©ì•ˆì„ ì°¾ì•˜ìŠµë‹ˆë‹¤. ì „ë°˜ì ìœ¼ë¡œ jQueryì™€ jQGridë¥¼ í™œìš©í•œ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ë¡œì§ì´ ë³µì¡í•˜ê²Œ ì–½í˜€ ìˆê³ , ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ëŠ” ë°©ì‹ì—ë„ ê°œì„ ì´ í•„ìš”í•œ ë¶€ë¶„ì´ ë³´ì…ë‹ˆë‹¤. í•˜ë‚˜ì”© ì°¨ê·¼ì°¨ê·¼ ì§šì–´ë³¼ê²Œìš”. ğŸ”

-----

### **1. ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬ ê²½ê³ ì°½ ë¬´í•œ ë°˜ë³µ ë¬¸ì œ**

**ê·¼ë³¸ ì›ì¸ ë° ë¬¸ì œ ì½”ë“œ**
`dataSave()` í•¨ìˆ˜ ë‚´ì—ì„œ ì´ë©”ì¼ ìœ íš¨ì„± ê²€ì‚¬(`validateEmail()`)ë¥¼ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

```javascript
// ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„
if (rowData.CUST_MAIN_EMAIL && !validateEmail(rowData.CUST_MAIN_EMAIL)) {
    alert('...');
    validationFailed = true;
    return false; // jQuery.each() ë£¨í”„ì—ì„œ falseë¥¼ ë°˜í™˜í•˜ë©´ ë£¨í”„ë§Œ ì¤‘ë‹¨ë¨
}
```

ì—¬ê¸°ì„œ \*\*`return false;`\*\*ëŠ” `$.each()` ë£¨í”„ë¥¼ ì¦‰ì‹œ ì¤‘ë‹¨í•˜ëŠ” ì—­í• ë§Œ í•  ë¿, `dataSave()` í•¨ìˆ˜ ìì²´ë¥¼ ì¢…ë£Œì‹œí‚¤ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ë£¨í”„ê°€ ì¤‘ë‹¨ëœ í›„, ë‹¤ìŒ `if (validationFailed)` ì¡°ê±´ë¬¸ì—ì„œ `validationFailed`ê°€ `true`ì´ë¯€ë¡œ `alert()`ë¥¼ ë‹¤ì‹œ ë„ìš°ê³  `return false;`ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì¦‰, ìœ íš¨ì„± ê²€ì‚¬ì— ì‹¤íŒ¨í•œ ë ˆì½”ë“œê°€ ì—¬ëŸ¬ ê°œì¼ ê²½ìš°, ì²« ë²ˆì§¸ ì‹¤íŒ¨ ë ˆì½”ë“œë¥¼ ë°œê²¬í•˜ê³  ë£¨í”„ë¥¼ ì¤‘ë‹¨í–ˆì§€ë§Œ, `dataSave()` í•¨ìˆ˜ ìì²´ëŠ” ê³„ì† ì§„í–‰ë˜ë©´ì„œ `if (validationFailed)` ë¸”ë¡ìœ¼ë¡œ ì§„ì…í•˜ì—¬ ë‹¤ì‹œ `alert`ë¥¼ ë„ìš°ê³  í•¨ìˆ˜ë¥¼ ì¢…ë£Œì‹œí‚¤ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. ì´ ë•Œë¬¸ì— ê²½ê³ ì°½ì´ í•œ ë²ˆ ë” ë‚˜íƒ€ë‚˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

**ìˆ˜ì • ë°©ë²•**
ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‹œ `$.each()` ë£¨í”„ë¥¼ ì¦‰ì‹œ ì¤‘ë‹¨í•˜ê³ , `dataSave()` í•¨ìˆ˜ë„ í•¨ê»˜ ì¢…ë£Œë˜ë„ë¡ ë¡œì§ì„ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤. ê°„ë‹¨í•˜ê²ŒëŠ” `validationFailed` ë³€ìˆ˜ë¥¼ `true`ë¡œ ì„¤ì •í•˜ëŠ” ì¦‰ì‹œ `return false;`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë£¨í”„ë¥¼ ë©ˆì¶”ê³ , ë£¨í”„ ì¢…ë£Œ í›„ `validationFailed`ê°€ `true`ì¼ ê²½ìš°ì—ë§Œ ì•Œë¦¼ì„ ë„ìš°ê³  í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•˜ë„ë¡ ëª…í™•í•˜ê²Œ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

**ìˆ˜ì •ëœ ì½”ë“œ**

```javascript
// handleEmailChange í•¨ìˆ˜ëŠ” ê·¸ëŒ€ë¡œ ë‘ê³ , dataSave í•¨ìˆ˜ë§Œ ìˆ˜ì •
function dataSave(obj) {
    $(obj).prop('disabled', true);
    var grid = $('#gridList');
    var allRowIds = grid.jqGrid('getDataIDs');
    $.each(allRowIds, function(index, rowId) {
        var isEditMode = $('#' + rowId).hasClass('jqgrow-edit');
        if (isEditMode) {
            grid.jqGrid('saveRow', rowId);
        }
    });

    var modifiedRows = getModifiedRows();
    if (modifiedRows.length === 0) {
        alert('ìˆ˜ì •ëœ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.');
        $(obj).prop('disabled', false);
        return;
    }

    var validationFailed = false;
    var failMessage = '';

    $.each(modifiedRows, function(i, rowData) {
        if (rowData.CUST_MAIN_EMAIL && !validateEmail(rowData.CUST_MAIN_EMAIL)) {
            failMessage = 'ê±°ë˜ì²˜ ë‹´ë‹¹ì ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')';
            validationFailed = true;
            return false; // $.each ë£¨í”„ ì¤‘ë‹¨
        }
        if (rowData.SALESREP_EMAIL && !validateEmail(rowData.SALESREP_EMAIL)) {
            failMessage = 'ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')';
            validationFailed = true;
            return false;
        }
        if (rowData.CUST_SENDMAIL_YN === 'Y' && !rowData.CUST_MAIN_EMAIL) {
            failMessage = 'ë‹´ë‹¹ì ì´ë©”ì¼ ë°œì†¡ì´ ì²´í¬ë˜ì–´ ìˆì§€ë§Œ ë‹´ë‹¹ì ì´ë©”ì¼ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')';
            validationFailed = true;
            return false;
        }
        if (rowData.SALESREP_SENDMAIL_YN === 'Y' && !rowData.SALESREP_EMAIL) {
            failMessage = 'ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ ë°œì†¡ì´ ì²´í¬ë˜ì–´ ìˆì§€ë§Œ ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.SALESREP_CD + ')';
            validationFailed = true;
            return false;
        }
    });

    if (validationFailed) {
        alert(failMessage);
        $(obj).prop('disabled', false);
        return; // dataSave í•¨ìˆ˜ ì¢…ë£Œ
    }
    // ... ë‚˜ë¨¸ì§€ ì €ì¥ ë¡œì§
}
```

-----

### **2. ë°ì´í„° ì €ì¥ ë¶ˆì™„ì „ ë¬¸ì œ**

**ê·¼ë³¸ ì›ì¸ ë° ë¬¸ì œ ì½”ë“œ**
`dataSave()` í•¨ìˆ˜ ë‚´ì—ì„œ `getModifiedRows()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìˆ˜ì •ëœ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ìˆìŠµë‹ˆë‹¤.

```javascript
// ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ (dataSave.js)
iFormObj.append('<input type="hidden" name="custMainEmail" value="' + (rowData.CUST_MAIN_EMAIL || '') + '" />');
iFormObj.append('<input type="hidden" name="salesrepEmail" value="' + (rowData.SALESREP_EMAIL || '') + '" />');
iFormObj.append('<input type="hidden" name="comments" value="' + (rowData.COMMENTS || '') + '" />');
iFormObj.append('<input type="hidden" name="custSendmailYn" value="' + (rowData.CUST_SENDMAIL_YN || 'N') + '" />');
iFormObj.append('<input type="hidden" name="salesrepSendmailYn" value="' + (rowData.SALESREP_SENDMAIL_YN || 'N') + '" />');
```

ì´ ì½”ë“œëŠ” **`getModifiedRows()`** í•¨ìˆ˜ê°€ ë¦¬í„´í•˜ëŠ” `rowData` ê°ì²´ì˜ ë°ì´í„°ì— ì˜ì¡´í•©ë‹ˆë‹¤. `getModifiedRows()` ë‚´ë¶€ì—ì„œëŠ” `jqGrid('getRowData')`ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ í•¨ìˆ˜ëŠ” ê·¸ë¦¬ë“œì˜ **ì…€ì— í‘œì‹œëœ HTML ê°’**ì„ ê°€ì ¸ì˜µë‹ˆë‹¤. í…ìŠ¤íŠ¸ í•„ë“œ(ì´ë©”ì¼, ë¹„ê³ )ì˜ ê²½ìš°, **ì¸í’‹ íƒœê·¸ ìì²´ê°€ ì•„ë‹Œ, `jqGrid('saveRow')`ë¡œ ì €ì¥ëœ ì…€ì˜ í…ìŠ¤íŠ¸ ê°’**ì„ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ ì½”ë“œì˜ `getCleanRowData()` í•¨ìˆ˜ëŠ” ì´ ë¬¸ì œë¥¼ ë¶€ë¶„ì ìœ¼ë¡œ í•´ê²°í•˜ë ¤ í–ˆì§€ë§Œ, ë¡œì§ì´ ì™„ë²½í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**ìˆ˜ì • ë°©ë²•**

1.  **`getModifiedRows()`** ë¡œì§ì„ ìˆ˜ì •í•˜ì—¬ `jqGrid('getRowData')` ì‚¬ìš© ì‹œ **editable í•„ë“œì˜ ì‹¤ì œ ì…ë ¥ê°’**ì„ ì •í™•íˆ ê°€ì ¸ì˜¤ë„ë¡ ê°œì„ í•´ì•¼ í•©ë‹ˆë‹¤.
2.  `getModifiedRows()` í•¨ìˆ˜ì—ì„œ `jqGrid('saveRow', rowId)`ë¥¼ í˜¸ì¶œí•  ë•Œ **`successfunc`** ì˜µì…˜ì„ í™œìš©í•˜ì—¬ ì €ì¥ëœ ë°ì´í„°ë¥¼ ì§ì ‘ í™•ì¸í•˜ê³ , ì´ë¥¼ `modifiedRows` ë°°ì—´ì— í‘¸ì‹œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë¡œì§ì„ ë‹¨ìˆœí™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3.  ë˜ëŠ” `jqGrid('getChangedCells', 'all')` ê°™ì€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ëœ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì„ ê³ ë ¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ, ê¸°ì¡´ ì½”ë“œì˜ `hasOtherModifications` ë¡œì§ì„ ìµœëŒ€í•œ ìœ ì§€í•˜ë©° ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ì•ˆì „í•©ë‹ˆë‹¤.

**ìˆ˜ì •ëœ ì½”ë“œ**
`getModifiedRows()` í•¨ìˆ˜ë¥¼ ì•„ë˜ì™€ ê°™ì´ ê°œì„ í•˜ì—¬, `jqGrid('saveRow')`ë¡œ ì…€ ë°ì´í„°ë¥¼ ì •ìƒì ìœ¼ë¡œ ê°€ì ¸ì˜¤ë„ë¡ ë§Œë“­ë‹ˆë‹¤.

```javascript
// ìˆ˜ì •ëœ í–‰ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° - í¸ì§‘ëª¨ë“œ ëŒ€ì‘ ì™„ì „ ì¬ì‘ì„±
function getModifiedRows() {
    var grid = $('#gridList');
    var selectedRows = grid.jqGrid('getGridParam', 'selarrrow');
    var allRowIds = grid.jqGrid('getDataIDs');
    var modifiedRows = [];
    
    // ì „ì²´ í–‰ì„ ìˆœíšŒí•˜ë©° ìˆ˜ì •ëœ í–‰ì„ ì°¾ìŒ
    $.each(allRowIds, function(index, rowId) {
        var isEditMode = $('#' + rowId).hasClass('jqgrow-edit');
        if (isEditMode) {
            // í¸ì§‘ ëª¨ë“œì¸ ê²½ìš°, ì¼ë‹¨ ì €ì¥
            grid.jqGrid('saveRow', rowId, {
                // ì €ì¥ ì„±ê³µ ì‹œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ë°°ì—´ì— ì¶”ê°€
                successfunc: function(response) {
                    var rowData = grid.jqGrid('getRowData', rowId);
                    modifiedRows.push(rowData);
                    return true;
                }
            });
        } else if (modifiedRowsSet.has(rowId)) {
            // í¸ì§‘ ëª¨ë“œê°€ ì•„ë‹Œ ê²½ìš°(ì²´í¬ë°•ìŠ¤ë§Œ ë³€ê²½ ë“±), Setì— ìˆëŠ” IDì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜´
            var rowData = grid.jqGrid('getRowData', rowId);
            modifiedRows.push(rowData);
        }
    });
    return modifiedRows;
}
```

**`dataSave()`** í•¨ìˆ˜ ë‚´ì—ì„œ `getModifiedRows()` í˜¸ì¶œ ì „ì— ì „ì²´ í–‰ì— ëŒ€í•´ `jqGrid('saveRow')`ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ì‹ì€ ë¬¸ì œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” `getModifiedRows()` ë‚´ë¶€ì—ì„œ ì´ë¯¸ `saveRow`ë¥¼ í˜¸ì¶œí•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì¤‘ë³µ í˜¸ì¶œì„ í”¼í•˜ê³ , `getModifiedRows()`ê°€ ì •í™•í•œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ë„ë¡ ìœ„ì™€ ê°™ì´ ë¡œì§ì„ ìˆ˜ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

-----

### **3. ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë™ê¸°í™” ì˜¤ë¥˜**

**ê·¼ë³¸ ì›ì¸ ë° ë¬¸ì œ ì½”ë“œ**
`dataSave()` í•¨ìˆ˜ ë‚´ì—ì„œ `iFormObj`ì— hidden inputì„ ì¶”ê°€í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.

```javascript
// ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ (dataSave.js)
$.each(modifiedRows, function(i, rowData) {
    // ...
    iFormObj.append('<input type="hidden" name="custSendmailYn" value="' + (rowData.CUST_SENDMAIL_YN || 'N') + '" />');
    // ...
    iFormObj.append('<input type="hidden" name="salesrepSendmailYn" value="' + (rowData.SALESREP_SENDMAIL_YN || 'N') + '" />');
});
```

ê·¸ë¦¬ê³  ì„œë²„ ì¸¡ **`insertUpdateOrderEmailAlarm`** ì„œë¹„ìŠ¤ ë¡œì§ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

```java
// ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ (Java Service)
String[] custSendmailYnArray = req.getParameterValues("custSendmailYn");
String[] salesrepSendmailYnArray = req.getParameterValues("salesrepSendmailYn");

//...
String custSendmailYn = (custSendmailYnArray != null && i < custSendmailYnArray.length) ? custSendmailYnArray[i] : "N";
String salesrepSendmailYn = (salesrepSendmailYnArray != null && i < salesrepSendmailYnArray.length) ? salesrepSendmailYnArray[i] : "N";
```

ì—¬ê¸°ì„œ ë¬¸ì œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ `getModifiedRows()` í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” **`modifiedRows`** ë°°ì—´ì— ìˆìŠµë‹ˆë‹¤. `hasOtherModifications()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ”ë°, ì´ í•¨ìˆ˜ëŠ” í…ìŠ¤íŠ¸ í•„ë“œ(`CUST_MAIN_EMAIL`, `SALESREP_EMAIL`, `COMMENTS`)ì— ë³€ê²½ì´ ìˆì„ ê²½ìš°ë§Œ \*\*`isModified || hasModifications`\*\*ê°€ `true`ê°€ ë˜ë„ë¡ ë¡œì§ì´ ì§œì—¬ ìˆìŠµë‹ˆë‹¤. `hasOtherModifications()` í•¨ìˆ˜ ë‚´ì—ì„œ ì²´í¬ë°•ìŠ¤ ë³€ê²½ ì—¬ë¶€ë¥¼ ì œëŒ€ë¡œ ì¶”ì í•˜ì§€ ëª»í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë˜í•œ `jqGrid('setSelection', rowId, false)` ë¡œì§ ë•Œë¬¸ì— ìˆ˜ì •ëœ í–‰ì´ ì„ íƒ í•´ì œë˜ë©´ì„œ `getModifiedRows()`ê°€ ì˜ˆìƒì¹˜ ëª»í•œ ê²°ê³¼ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ìˆ˜ì • ë°©ë²•**

1.  **`hasOtherModifications()`** í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì—¬ ì²´í¬ë°•ìŠ¤ ê°’ë„ ì›ë³¸ ë°ì´í„°ì™€ ë¹„êµí•˜ë„ë¡ ëª…í™•íˆ í•´ì•¼ í•©ë‹ˆë‹¤.
2.  **`handleCheckboxClick()`** í•¨ìˆ˜ ë‚´ì—ì„œ `syncRowState()`ë¥¼ í˜¸ì¶œí•  ë•Œ `isModified || hasModifications` ë¡œì§ì„ ì‚¬ìš©í•˜ëŠ”ë°, ì´ ë¡œì§ì´ ì˜ëª» ì‘ë™í•˜ì—¬ ìˆ˜ì •ëœ í–‰ì´ `modifiedRowsSet`ì— ì œëŒ€ë¡œ ì¶”ê°€ë˜ì§€ ì•ŠëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3.  ê°€ì¥ í™•ì‹¤í•œ í•´ê²°ì±…ì€ `dataSave()` í•¨ìˆ˜ ë‚´ì—ì„œ `modifiedRows` ë°°ì—´ì„ ë§Œë“¤ ë•Œ \*\*`modifiedRowsSet`\*\*ì— ì¶”ê°€ëœ ëª¨ë“  í–‰ IDë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.

**ìˆ˜ì •ëœ ì½”ë“œ**
`handleCheckboxClick()` í•¨ìˆ˜ì™€ `hasOtherModifications()` í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì—¬ ì²´í¬ë°•ìŠ¤ ë³€ê²½ë„ ì •í™•í•˜ê²Œ ê°ì§€í•˜ë„ë¡ í•©ë‹ˆë‹¤.

```javascript
// ì²´í¬ë°•ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ - ì™„ì „ ì¬ì‘ì„±
function handleCheckboxClick(checkbox) {
    var rowId = $(checkbox).data('rowid');
    var fieldName = $(checkbox).data('field');
    var newValue = checkbox.checked ? 'Y' : 'N';
    var originalValue = originalDataMap[rowId] ? (originalDataMap[rowId][fieldName] || 'N') : 'N';
    
    // jqGridì— ê°’ ì§ì ‘ ì„¤ì •
    $('#gridList').jqGrid('setCell', rowId, fieldName, newValue);
    
    // ë³€ê²½ ìƒíƒœ ê°ì§€
    var isModified = (newValue !== originalValue);
    if (isModified) {
        modifiedRowsSet.add(rowId);
        syncRowState(rowId, true);
    } else {
        modifiedRowsSet.delete(rowId);
        syncRowState(rowId, hasOtherModifications(rowId));
    }
}
```

```javascript
// í–‰ì— ë‹¤ë¥¸ ìˆ˜ì •ì‚¬í•­ì´ ìˆëŠ”ì§€ í™•ì¸ - í¸ì§‘ëª¨ë“œ ëŒ€ì‘ ê°œì„ 
function hasOtherModifications(rowId) {
    if (!originalDataMap[rowId]) return false;
    var grid = $('#gridList');
    var currentData = getCleanRowData(rowId); // ì´ í•¨ìˆ˜ê°€ ì •í™•í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•¨
    var originalData = originalDataMap[rowId];
    
    var editableFields = ['CUST_MAIN_EMAIL', 'SALESREP_EMAIL', 'COMMENTS'];
    // í…ìŠ¤íŠ¸ í•„ë“œ ë³€ê²½ í™•ì¸
    for (var i = 0; i < editableFields.length; i++) {
        var field = editableFields[i];
        var currentValue = (currentData[field] || '').toString().trim();
        var originalValue = (originalData[field] || '').toString().trim();
        if (currentValue !== originalValue) {
            return true;
        }
    }
    
    // ì²´í¬ë°•ìŠ¤ í•„ë“œ ë³€ê²½ í™•ì¸
    if (currentData.CUST_SENDMAIL_YN !== (originalData.CUST_SENDMAIL_YN || 'N')) return true;
    if (currentData.SALESREP_SENDMAIL_YN !== (originalData.SALESREP_SENDMAIL_YN || 'N')) return true;

    return false;
}
```

-----

### **4. í¬ì»¤ìŠ¤ ì´ë™ ì˜¤ë¥˜**

**ê·¼ë³¸ ì›ì¸ ë° ë¬¸ì œ ì½”ë“œ**
`jqGrid`ì˜ `onSelectRow` ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì™€ `editRow()` í•¨ìˆ˜ì— ì›ì¸ì´ ìˆìŠµë‹ˆë‹¤.

```javascript
// ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ (onSelectRow)
onSelectRow: function(rowId, status, e){
    if (e && $(e.target).is('input[type="checkbox"]') && $(e.target).closest('td').hasClass('cbox')) {
        //...
        return;
    }
    editRow(rowId);
}
```

```javascript
// ë¬¸ì œê°€ ë˜ëŠ” ë¶€ë¶„ (editRow)
grid.jqGrid('editRow', id, {
    keys: true,Â 
    focusField: true, // ì´ ì˜µì…˜ì´ ë¬¸ì œ
    oneditfunc: function(rowId) {
        //...
    }
});
```

`onSelectRow` ì´ë²¤íŠ¸ëŠ” í–‰ì˜ ì–´ë–¤ ë¶€ë¶„ì„ í´ë¦­í•˜ë“  ë°œìƒí•©ë‹ˆë‹¤. `jqGrid('editRow')`ì˜ **`focusField: true`** ì˜µì…˜ì€ í¸ì§‘ ëª¨ë“œë¡œ ì „í™˜ë  ë•Œ **ì²« ë²ˆì§¸ editable í•„ë“œ**ì— ìë™ìœ¼ë¡œ í¬ì»¤ìŠ¤ë¥¼ ì´ë™ì‹œí‚µë‹ˆë‹¤. í˜„ì¬ ê·¸ë¦¬ë“œì˜ ì²« ë²ˆì§¸ editable í•„ë“œëŠ” `CUST_MAIN_EMAIL`ì…ë‹ˆë‹¤. ë”°ë¼ì„œ `ë¹„ê³ `ë‚˜ `SALESREP_EMAIL` í•„ë“œë¥¼ í´ë¦­í•´ë„, `editRow`ê°€ í˜¸ì¶œë˜ë©´ì„œ \*\*`CUST_MAIN_EMAIL`\*\*ë¡œ í¬ì»¤ìŠ¤ê°€ ê°•ì œë¡œ ì´ë™í•˜ëŠ” í˜„ìƒì´ ë°œìƒí•©ë‹ˆë‹¤.

**ìˆ˜ì • ë°©ë²•**
`editRow()` í•¨ìˆ˜ì—ì„œ `focusField: true` ì˜µì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šê±°ë‚˜, í´ë¦­í•œ í•„ë“œì— ë§ê²Œ ë™ì ìœ¼ë¡œ í¬ì»¤ìŠ¤ë¥¼ ì„¤ì •í•´ì•¼ í•©ë‹ˆë‹¤. ì‚¬ìš©ìê°€ í´ë¦­í•œ í•„ë“œì˜ ì´ë¦„ì„ `onSelectRow` ì´ë²¤íŠ¸ì—ì„œ ê°ì§€í•˜ì—¬ `editRow`ì— ì „ë‹¬í•˜ëŠ” ë°©ë²•ì´ ê°€ì¥ ì¢‹ìŠµë‹ˆë‹¤.

**ìˆ˜ì •ëœ ì½”ë“œ**
`onSelectRow`ì—ì„œ í´ë¦­ëœ ìš”ì†Œê°€ editable í•„ë“œì¸ì§€ í™•ì¸í•˜ê³ , í•´ë‹¹ í•„ë“œì— í¬ì»¤ìŠ¤ë¥¼ ë§ì¶¥ë‹ˆë‹¤.

```javascript
onSelectRow: function(rowId, status, e){
    if (e && $(e.target).is('input[type="checkbox"]')) {
        // ì²´í¬ë°•ìŠ¤ í´ë¦­ ì‹œ
        setTimeout(function() {
            var hasModifications = hasOtherModifications(rowId);
            if (!hasModifications) {
                $('#gridList').jqGrid('setSelection', rowId, false);
            }
        }, 10);
        return;
    }
    
    // í–‰ ì„ íƒ ì‹œ
    var grid = $('#gridList');
    var isEditableField = $(e.target).closest('td').hasClass('editable');
    var fieldName = '';
    
    if (isEditableField) {
        // í´ë¦­í•œ í•„ë“œëª… ê°€ì ¸ì˜¤ê¸°
        var cellIndex = $(e.target).closest('td')[0].cellIndex;
        fieldName = grid.jqGrid('getGridParam', 'colModel')[cellIndex].name;
    }

    if (rowId && rowId !== lastSelection) {
        grid.jqGrid('editRow', rowId, {
            keys: true,
            // focusFieldë¥¼ ë™ì ìœ¼ë¡œ ì„¤ì •í•˜ê±°ë‚˜ falseë¡œ ë³€ê²½
            focusField: fieldName || false,
            oneditfunc: function(rowId) {
                // ... (ê¸°ì¡´ onblur ì´ë²¤íŠ¸ ë°”ì¸ë”© ë¡œì§ì€ ìœ ì§€)
            }
        });
        lastSelection = rowId;
    }
}
```

**`onSelectRow`** í•¨ìˆ˜ëŠ” ì‚¬ìš©ìê°€ **ì–´ë–¤ í•„ë“œë¥¼ í´ë¦­í–ˆëŠ”ì§€** íŒë‹¨í•˜ê³ , ê·¸ í•„ë“œì˜ ì´ë¦„ì„ `editRow`ì— ì „ë‹¬í•˜ì—¬ `focusField` ì˜µì…˜ìœ¼ë¡œ ì‚¬ìš©í•˜ê²Œ í•¨ìœ¼ë¡œì¨ ì›í•˜ëŠ” í•„ë“œì— ì •í™•íˆ í¬ì»¤ìŠ¤ê°€ ì´ë™í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

-----

### **ìµœì¢… ìˆ˜ì •ëœ ì „ì²´ ì½”ë“œ**

ì•„ë˜ëŠ” ìœ„ì—ì„œ ì„¤ëª…í•œ ëª¨ë“  ë¬¸ì œì— ëŒ€í•œ ìˆ˜ì • ì‚¬í•­ì´ ì ìš©ëœ ì „ì²´ ì½”ë“œì…ë‹ˆë‹¤.

```javascript
// ==================================================================================
// ì „ì—­ ë³€ìˆ˜ ë° ì›ë³¸ ë°ì´í„° ì €ì¥
// ==================================================================================
var originalDataMap = {};
var modifiedRowsSet = new Set();
var lastSelection;

// ì´ë©”ì¼ í˜•ì‹ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
function validateEmail(email) {
    if (!email || email.trim() === '') return true;
    const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
    return emailRegex.test(email.trim());
}

// ë°°ê²½ìƒ‰ ë° multiselect ë™ê¸°í™” í•¨ìˆ˜
function syncRowState(rowId, isModified) {
    var grid = $('#gridList');
    if (isModified) {
        $('#gridList #' + rowId).css('background-color', '#ffebcd');
        grid.jqGrid('setSelection', rowId, true); // ìˆ˜ì •: ì²´í¬ë°•ìŠ¤ë„ ì„ íƒë˜ë„ë¡ ë³€ê²½
        modifiedRowsSet.add(rowId);
    } else {
        $('#gridList #' + rowId).css('background-color', '');
        if (!hasOtherModifications(rowId)) {
            var selectedRows = grid.jqGrid('getGridParam', 'selarrrow');
            if (selectedRows.indexOf(rowId) !== -1) {
                grid.jqGrid('setSelection', rowId, false);
            }
            modifiedRowsSet.delete(rowId);
        }
    }
}

// í–‰ì— ë‹¤ë¥¸ ìˆ˜ì •ì‚¬í•­ì´ ìˆëŠ”ì§€ í™•ì¸ - í¸ì§‘ëª¨ë“œ ëŒ€ì‘ ê°œì„ 
function hasOtherModifications(rowId) {
    if (!originalDataMap[rowId]) return false;
    var grid = $('#gridList');
    var isEditMode = $('#' + rowId).hasClass('jqgrow-edit');
    var currentData = {};
    if (isEditMode) {
        var row = $('#' + rowId);
        currentData.CUST_MAIN_EMAIL = row.find('input[name="CUST_MAIN_EMAIL"]').val() || '';
        currentData.SALESREP_EMAIL = row.find('input[name="SALESREP_EMAIL"]').val() || '';
        currentData.COMMENTS = row.find('input[name="COMMENTS"]').val() || '';
        currentData.CUST_SENDMAIL_YN = row.find('.mail-checkbox[data-field="CUST_SENDMAIL_YN"]').is(':checked') ? 'Y' : 'N';
        currentData.SALESREP_SENDMAIL_YN = row.find('.mail-checkbox[data-field="SALESREP_SENDMAIL_YN"]').is(':checked') ? 'Y' : 'N';
    } else {
        currentData = getCleanRowData(rowId);
    }
    
    var originalData = originalDataMap[rowId];
    
    var editableFields = ['CUST_MAIN_EMAIL', 'CUST_SENDMAIL_YN', 'SALESREP_EMAIL', 'SALESREP_SENDMAIL_YN', 'COMMENTS'];
    for (var i = 0; i < editableFields.length; i++) {
        var field = editableFields[i];
        var currentValue = (currentData[field] || '').toString().trim();
        var originalValue = (originalData[field] || '').toString().trim();
        if (currentValue !== originalValue) {
            return true;
        }
    }
    return false;
}

// ì²´í¬ë°•ìŠ¤ í¬ë§·í„°
function checkboxFormatter(cellVal, options, rowObj) {
    var checked = (cellVal === 'Y') ? 'checked' : '';
    var rowId = options.rowId;
    return '<input type="checkbox" class="mail-checkbox" ' + checked +
        ' data-rowid="' + rowId + '" data-field="' + options.colModel.name + '"' +
        ' onclick="handleCheckboxClick(this)" />';
}

// ì²´í¬ë°•ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
function handleCheckboxClick(checkbox) {
    var rowId = $(checkbox).data('rowid');
    var fieldName = $(checkbox).data('field');
    var newValue = checkbox.checked ? 'Y' : 'N';
    var originalValue = originalDataMap[rowId] ? (originalDataMap[rowId][fieldName] || 'N') : 'N';

    $('#gridList').jqGrid('setCell', rowId, fieldName, newValue);
    
    var isModified = (newValue !== originalValue);
    if (isModified) {
        modifiedRowsSet.add(rowId);
        syncRowState(rowId, true);
    } else {
        modifiedRowsSet.delete(rowId);
        syncRowState(rowId, hasOtherModifications(rowId));
    }
}

// ì´ë©”ì¼ í•„ë“œ ê²€ì¦ ë° ìƒíƒœ ë™ê¸°í™” - í¸ì§‘ëª¨ë“œ ê°œì„ 
function handleEmailChange(input) {
    var rowId = $(input).closest('tr').attr('id');
    var fieldName = $(input).attr('name') || $(input).data('field');
    var newValue = $(input).val().trim();
    if (!validateEmail(newValue)) {
        alert('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        $(input).focus();
        return false;
    }
    var originalValue = originalDataMap[rowId] ? (originalDataMap[rowId][fieldName] || '') : '';
    var isModified = (newValue !== originalValue.trim());
    var hasModifications = hasOtherModifications(rowId);
    syncRowState(rowId, isModified || hasModifications);
    return true;
}

// í…ìŠ¤íŠ¸ í•„ë“œ ë³€ê²½ ì²˜ë¦¬ - í¸ì§‘ëª¨ë“œ ê°œì„ 
function handleTextChange(input) {
    var rowId = $(input).closest('tr').attr('id');
    var fieldName = $(input).attr('name') || $(input).data('field');
    var newValue = $(input).val().trim();
    var originalValue = originalDataMap[rowId] ? (originalDataMap[rowId][fieldName] || '') : '';
    var isModified = (newValue !== originalValue.trim());
    var hasModifications = hasOtherModifications(rowId);
    syncRowState(rowId, isModified || hasModifications);
}

// multiselect ì²´í¬ë°•ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
function handleMultiselectChange() {
    var grid = $('#gridList');
    var selectedRows = grid.jqGrid('getGridParam', 'selarrrow');
    var allRowIds = grid.jqGrid('getDataIDs');
    $.each(allRowIds, function(index, rowId) {
        var isSelected = selectedRows.indexOf(rowId) !== -1;
        var hasModifications = hasOtherModifications(rowId);
        if (isSelected && !hasModifications) {
            setTimeout(function() {
                grid.jqGrid('setSelection', rowId, false);
            }, 10);
        } else if (!isSelected && hasModifications) {
            grid.jqGrid('setSelection', rowId, true); // ìˆ˜ì •: ìˆ˜ì •ì‚¬í•­ì´ ìˆìœ¼ë©´ ì„ íƒ ìœ ì§€
            modifiedRowsSet.add(rowId);
        }
    });
}

$(function(){
    getGridList();
});

// ìˆ˜ì •ëœ í–‰ ë°ì´í„° ê°€ì ¸ì˜¤ê¸° - í¸ì§‘ëª¨ë“œ ëŒ€ì‘ ì™„ì „ ì¬ì‘ì„±
function getModifiedRows() {
    var grid = $('#gridList');
    var modifiedRows = [];
    
    // modifiedRowsSetì— ìˆëŠ” ëª¨ë“  IDì— ëŒ€í•´ ì²˜ë¦¬
    var rowIdsToProcess = Array.from(modifiedRowsSet);
    $.each(rowIdsToProcess, function(index, rowId) {
        var isEditMode = $('#' + rowId).hasClass('jqgrow-edit');
        if (isEditMode) {
            // í¸ì§‘ ëª¨ë“œì¸ ê²½ìš°, ë¨¼ì € ì €ì¥
            grid.jqGrid('saveRow', rowId, {
                // ì €ì¥ ì„±ê³µ ì‹œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ë°°ì—´ì— ì¶”ê°€
                successfunc: function(response) {
                    var rowData = grid.jqGrid('getRowData', rowId);
                    modifiedRows.push(rowData);
                    return true;
                }
            });
        } else {
            // í¸ì§‘ ëª¨ë“œê°€ ì•„ë‹Œ ê²½ìš°, ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ë°°ì—´ì— ì¶”ê°€
            var rowData = getCleanRowData(rowId);
            modifiedRows.push(rowData);
        }
    });
    
    return modifiedRows;
}

// í¸ì§‘ëª¨ë“œë¥¼ ê³ ë ¤í•œ ê¹¨ë—í•œ í–‰ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
function getCleanRowData(rowId) {
    var grid = $('#gridList');
    var rowData = grid.jqGrid('getRowData', rowId);
    var cleanData = {};
    $.each(rowData, function(key, value) {
        if (typeof value === 'string') {
            if (value.indexOf('<input') !== -1) {
                var $temp = $('<div>').html(value);
                var isChecked = $temp.find('input[type="checkbox"]').is(':checked');
                if ($temp.find('input').length > 0) {
                     cleanData[key] = $temp.find('input').val() || '';
                } else if ($temp.find('a').length > 0) {
                     cleanData[key] = $temp.find('a').text().trim();
                } else {
                     cleanData[key] = $temp.text().trim();
                }
                if ($temp.find('input[type="checkbox"]').length > 0) {
                    cleanData[key] = isChecked ? 'Y' : 'N';
                }
            } else if (value.indexOf('<') !== -1) {
                var $temp = $('<div>').html(value);
                cleanData[key] = $temp.text().trim();
            } else {
                cleanData[key] = value;
            }
        } else {
            cleanData[key] = value;
        }
    });
    return cleanData;
}

function editRow(id, focusField) {
    if (id && id !== lastSelection) {
        var grid = $('#gridList');
        grid.jqGrid('editRow', id, {
            keys: true,
            focusField: focusField, // ìˆ˜ì •ëœ ë¶€ë¶„
            oneditfunc: function(rowId) {
                var row = $('#' + rowId);
                row.find('input[name="CUST_MAIN_EMAIL"]').on('blur', function() {
                    $(this).data('field', 'CUST_MAIN_EMAIL');
                    handleEmailChange(this);
                });
                row.find('input[name="SALESREP_EMAIL"]').on('blur', function() {
                    $(this).data('field', 'SALESREP_EMAIL');
                    handleEmailChange(this);
                });
                row.find('input[name="COMMENTS"]').on('blur', function() {
                    $(this).data('field', 'COMMENTS');
                    handleTextChange(this);
                });
            }
        });
        lastSelection = id;
    }
}

function dataSave(obj) {
    $(obj).prop('disabled', true);
    
    // getModifiedRows í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ìˆ˜ì •ëœ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    var modifiedRows = getModifiedRows();
    
    if (modifiedRows.length === 0) {
        alert('ìˆ˜ì •ëœ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.');
        $(obj).prop('disabled', false);
        return;
    }
    
    var validationFailed = false;
    var failMessage = '';
    
    $.each(modifiedRows, function(i, rowData) {
        if (rowData.CUST_MAIN_EMAIL && !validateEmail(rowData.CUST_MAIN_EMAIL)) {
            failMessage = 'ê±°ë˜ì²˜ ë‹´ë‹¹ì ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')';
            validationFailed = true;
            return false;
        }
        if (rowData.SALESREP_EMAIL && !validateEmail(rowData.SALESREP_EMAIL)) {
            failMessage = 'ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')';
            validationFailed = true;
            return false;
        }
        if (rowData.CUST_SENDMAIL_YN === 'Y' && !rowData.CUST_MAIN_EMAIL) {
            failMessage = 'ë‹´ë‹¹ì ì´ë©”ì¼ ë°œì†¡ì´ ì²´í¬ë˜ì–´ ìˆì§€ë§Œ ë‹´ë‹¹ì ì´ë©”ì¼ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')';
            validationFailed = true;
            return false;
        }
        if (rowData.SALESREP_SENDMAIL_YN === 'Y' && !rowData.SALESREP_EMAIL) {
            failMessage = 'ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ ë°œì†¡ì´ ì²´í¬ë˜ì–´ ìˆì§€ë§Œ ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. (ê±°ë˜ì²˜ì½”ë“œ: ' + rowData.CUST_CD + ')';
            validationFailed = true;
            return false;
        }
    });

    if (validationFailed) {
        alert(failMessage);
        $(obj).prop('disabled', false);
        return;
    }
    
    var iFormObj = $('form[name="iForm"]');
    iFormObj.empty();
    
    $.each(modifiedRows, function(i, rowData) {
        iFormObj.append('<input type="hidden" name="custCd" value="' + rowData.CUST_CD + '" />');
        iFormObj.append('<input type="hidden" name="custMainEmail" value="' + (rowData.CUST_MAIN_EMAIL || '') + '" />');
        iFormObj.append('<input type="hidden" name="custSendmailYn" value="' + (rowData.CUST_SENDMAIL_YN || 'N') + '" />');
        iFormObj.append('<input type="hidden" name="salesrepEmail" value="' + (rowData.SALESREP_EMAIL || '') + '" />');
        iFormObj.append('<input type="hidden" name="salesrepSendmailYn" value="' + (rowData.SALESREP_SENDMAIL_YN || 'N') + '" />');
        iFormObj.append('<input type="hidden" name="comments" value="' + (rowData.COMMENTS || '') + '" />');
    });

    if (confirm('ì €ì¥ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        var iFormData = iFormObj.serialize();
        var url = '${url}/admin/system/updateOrderMailAlarmAjax.lime';
        $.ajax({
            async : false,
            data : iFormData,
            type : 'POST',
            url : url,
            success : function(data) {
                if (data.RES_CODE == '0000') {
                    alert(data.RES_MSG);
                    resetAllStates();
                    dataSearch();
                } else {
                    alert(data.RES_MSG);
                }
                $(obj).prop('disabled', false);
            },
            error : function(request,status,error){
                alert('Error');
                $(obj).prop('disabled', false);
            }
        });
    } else {
        $(obj).prop('disabled', false);
    }
}

// ëª¨ë“  ìƒíƒœ ì´ˆê¸°í™”
function resetAllStates() {
    var grid = $('#gridList');
    var allRowIds = grid.jqGrid('getDataIDs');
    $.each(allRowIds, function(index, rowId) {
        $('#gridList #' + rowId).css('background-color', '');
    });
    grid.jqGrid('resetSelection');
    modifiedRowsSet.clear();
}

// ==================================================================================
// jqGrid Columns Order ì„¤ì •
// ==================================================================================
var ckNameJqGrid = 'admin/customer/customerList/jqGridCookie';
ckNameJqGrid += '/gridList';
var globalColumnOrderStr = toStr(decodeURIComponent(getCookie(ckNameJqGrid)));
var globalColumnOrder = globalColumnOrderStr.split(',');
var defaultColModel = [
    {name:"CUST_CD", key:true, label:'ê±°ë˜ì²˜ì½”ë“œ', width:120, align:'center', sortable:true},
    {name:"CUST_NM", label:'ê±°ë˜ì²˜ëª…', width:220, align:'left', sortable:true},
    {name:"CUST_MAIN_EMAIL", label:'ë‹´ë‹¹ì ì´ë©”ì¼', width:220, align:'center', sortable:true, editable:true},
    {name:"CUST_SENDMAIL_YN", label:'ë°œì†¡ ì—¬ë¶€', width:100, align:'center', sortable:true, formatter:checkboxFormatter},
    {name:"SALESREP_NM", label:'ì˜ì—… ë‹´ë‹¹', width:100, align:'center', sortable:true},
    {name:"SALESREP_EMAIL", label:'ì˜ì—… ë‹´ë‹¹ ì´ë©”ì¼', width:300, align:'center', sortable:true, editable:true},
    {name:"SALESREP_SENDMAIL_YN", label:'ë°œì†¡ ì—¬ë¶€', width:100, align:'center', sortable:true, formatter:checkboxFormatter},
    {name:"COMMENTS", label:'ë¹„ê³ ', width:450, align:'left', sortable:true, editable:true}
];
var defaultColumnOrder = writeIndexToStr(defaultColModel.length);
var updateComModel = [];
if (0 < globalColumnOrder.length) {
    if (defaultColModel.length == globalColumnOrder.length) {
        for (var i = 0, j = globalColumnOrder.length; i < j; i++) {
            updateComModel.push(defaultColModel[globalColumnOrder[i]]);
        }
        setCookie(ckNameJqGrid, globalColumnOrder, 365);
    } else {
        updateComModel = defaultColModel;
        setCookie(ckNameJqGrid, defaultColumnOrder, 365);
    }
} else {
    updateComModel = defaultColModel;
    setCookie(ckNameJqGrid, defaultColumnOrder, 365);
}

// ==================================================================================
// jqGrid Column Width ì„¤ì •
// ==================================================================================
var ckNameJqGridWidth = ckNameJqGrid + '/width';
var globalColumnWidthStr = toStr(decodeURIComponent(getCookie(ckNameJqGridWidth)));
var globalColumnWidth = globalColumnWidthStr.split(',');
var defaultColumnWidthStr = '';
var defaultColumnWidth;
var updateColumnWidth;
if ('' != globalColumnWidthStr) {
    if (updateComModel.length == globalColumnWidth.length) {
        updateColumnWidth = globalColumnWidth;
    } else {
        for (var j = 0; j < updateComModel.length; j++) {
            if ('rn' != updateComModel[j].name && 'cb' != updateComModel[j].name) {
                var v = ('' != toStr(updateComModel[j].width)) ? toStr(updateComModel[j].width) : '0';
                if ('' == defaultColumnWidthStr) {
                    defaultColumnWidthStr = v;
                } else {
                    defaultColumnWidthStr += ',' + v;
                }
            }
        }
        defaultColumnWidth = defaultColumnWidthStr.split(',');
        updateColumnWidth = defaultColumnWidth;
        setCookie(ckNameJqGridWidth, defaultColumnWidth, 365);
    }
} else {
    for (var j = 0; j < updateComModel.length; j++) {
        if ('rn' != updateComModel[j].name && 'cb' != updateComModel[j].name) {
            var v = ('' != toStr(updateComModel[j].width)) ? toStr(updateComModel[j].width) : '0';
            if ('' == defaultColumnWidthStr) {
                defaultColumnWidthStr = v;
            } else {
                defaultColumnWidthStr += ',' + v;
            }
        }
    }
    defaultColumnWidth = defaultColumnWidthStr.split(',');
    updateColumnWidth = defaultColumnWidth;
    setCookie(ckNameJqGridWidth, defaultColumnWidth, 365);
}
if (updateComModel.length == globalColumnWidth.length) {
    for (var j = 0; j < updateComModel.length; j++) {
        updateComModel[j].width = toStr(updateColumnWidth[j]);
    }
}

function getGridList(){
    var searchData = getSearchData();
    $('#gridList').jqGrid({
        url: "${url}/admin/customer/getOrderEmailAlarmAjax.lime",
        editurl: 'clientArray',
        datatype: "json",
        mtype: 'POST',
        postData: searchData,
        colModel: updateComModel,
        height: '360px',
        autowidth: false,
        multiselect: true,
        rowNum: 10,
        rowList: ['10', '30', '50', '100'],
        rownumbers: true,
        pagination: true,
        pager: "#pager",
        actions : true,
        pginput : true,
        jsonReader: {
            root: 'list',
            id: 'CUST_CD'
        },
        loadComplete: function(data) {
            originalDataMap = {};
            modifiedRowsSet.clear();
            if (data && data.list) {
                $.each(data.list, function(index, item) {
                    originalDataMap[item.CUST_CD] = $.extend(true, {}, item);
                });
            }
            $('#cb_gridList').off('click').on('click', function() {
                setTimeout(handleMultiselectChange, 50);
            });
        },
        sortable: {
            update: function(relativeColumnOrder) {
                var grid = $('#gridList');
                var defaultColIndicies = [];
                for (var i = 0; i < defaultColModel.length; i++) {
                    defaultColIndicies.push(defaultColModel[i].name);
                }
                globalColumnOrder = [];
                var columnOrder = [];
                var currentColModel = grid.getGridParam('colModel');
                for (var j = 0; j < relativeColumnOrder.length; j++) {
                    if ('rn' != currentColModel[j].name && 'cb' != currentColModel[j].name) {
                        columnOrder.push(defaultColIndicies.indexOf(currentColModel[j].name));
                    }
                }
                globalColumnOrder = columnOrder;
                setCookie(ckNameJqGrid, globalColumnOrder, 365);
                var tempUpdateColumnWidth = [];
                for (var j = 0; j < currentColModel.length; j++) {
                    if ('rn' != currentColModel[j].name && 'cb' != currentColModel[j].name) {
                        tempUpdateColumnWidth.push(currentColModel[j].width);
                    }
                }
                updateColumnWidth = tempUpdateColumnWidth;
                setCookie(ckNameJqGridWidth, updateColumnWidth, 365);
            }
        },
        resizeStop: function(width, index) {
            var minusIdx = 0;
            var grid = $('#gridList');
            var currentColModel = grid.getGridParam('colModel');
            if ('rn' == currentColModel.name || 'cb' == currentColModel.name) minusIdx--;
            if ('rn' == currentColModel.name || 'cb' == currentColModel.name) minusIdx--;
            var resizeIdx = index + minusIdx;
            updateColumnWidth[resizeIdx] = width;
            setCookie(ckNameJqGridWidth, updateColumnWidth, 365);
        },
        sortorder: 'desc',
        onSelectRow: function(rowId, status, e){
            if (e && $(e.target).is('input[type="checkbox"]')) { // ìˆ˜ì •: checkbox ì²´í¬ë°•ìŠ¤ í´ë¦­ì‹œì—ë„ ì´ë²¤íŠ¸ ë°œìƒí•˜ë„ë¡ ìˆ˜ì •
                setTimeout(function() {
                    var hasModifications = hasOtherModifications(rowId);
                    if (!hasModifications) {
                        $('#gridList').jqGrid('setSelection', rowId, false);
                    }
                }, 10);
                return;
            }

            var grid = $('#gridList');
            var cellIndex = $(e.target).closest('td')[0].cellIndex;
            var colModel = grid.jqGrid('getGridParam', 'colModel');
            var fieldName = colModel[cellIndex].name;
            
            editRow(rowId, fieldName); // ìˆ˜ì •: í´ë¦­í•œ í•„ë“œëª… ì „ë‹¬
        }
    });
}

function getSearchData(){
    var rl_custcd = $('input[name="searchCustCd"]').val();
    var rl_custnm = $('input[name="searchCustNm"]').val();
    var rl_salesrepnm = $('input[name="searchSalesrepNm"]').val();
    var searchData = {
        rl_custcd : rl_custcd,
        rl_custnm : rl_custnm,
        rl_salesrepnm : rl_salesrepnm
    };
    return searchData;
}

// ì¡°íšŒ
function dataSearch() {
    var searchData = getSearchData();
    $('#gridList').setGridParam({
        postData : searchData
    }).trigger("reloadGrid");
}
```